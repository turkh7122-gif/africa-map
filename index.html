<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Militant Atlas</title>

<style>
/* ===== GENEL TEMA ===== */
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #e9edf2; /* ðŸ‘ˆ eski kullandÄ±ÄŸÄ±mÄ±z soft gri */
  color: #111;
}

#container {
  display: flex;
  height: 100vh;
}

/* ===== MAP ALANI ===== */
#map-area {
  flex: 1;
  position: relative;
  background: #f1f3f6; /* beyaz deÄŸil, aÃ§Ä±k gri */
  overflow: hidden;
}

svg {
  width: 100%;
  height: 100%;
  transition: transform 0.25s ease;
}

svg path {
  fill: #dfe3e8;
  stroke: #555;
  cursor: pointer;
  pointer-events: all;
  transition: fill 0.2s ease;
}

svg path:hover {
  fill: #4ade80;
}

/* ===== TOOLTIP ===== */
.tooltip {
  position: absolute;
  background: rgba(0,0,0,0.85);
  color: #fff;
  padding: 8px 12px;
  border-radius: 6px;
  font-size: 13px;
  pointer-events: none;
  display: none;
  z-index: 10;
}

.tooltip strong {
  display: block;
  font-size: 16px;   /* ðŸ‘ˆ hoverâ€™da Ã¼lke adÄ± bÃ¼yÃ¼k */
  margin-bottom: 4px;
}

/* ===== SIDEBAR ===== */
#sidebar {
  width: 300px;
  background: #f5f7fa;
  color: #111;
  border-left: 1px solid #cfd6de;
  padding: 20px;
  display: none;
}

#sidebar.active {
  display: block;
}

.group {
  margin-top: 10px;
}

.group a {
  color: #2563eb;
  text-decoration: none;
}

.group a:hover {
  text-decoration: underline;
}
</style>
</head>

<body>

<div id="container">
  <div id="map-area">

    <!-- ðŸ”´ AFRICA SVG BURAYA -->
    <!-- path id'leri (NG, ML vs) data.json ile birebir olmalÄ± -->

    <div class="tooltip" id="tooltip"></div>
  </div>

  <div id="sidebar"></div>
</div>

<script>
let countryData = {};
const tooltip = document.getElementById("tooltip");
const sidebar = document.getElementById("sidebar");
const svg = document.querySelector("svg");

/* ===== ZOOM (SADECE WHEEL) ===== */
let scale = 1;

svg.addEventListener("wheel", e => {
  e.preventDefault();
  scale += e.deltaY * -0.001;
  scale = Math.min(Math.max(1, scale), 4);
  svg.style.transform = `scale(${scale})`;
  svg.style.transformOrigin = "center center";
});

/* ===== JSON YÃœKLE ===== */
fetch("data.json")
  .then(res => res.json())
  .then(data => {
    countryData = data;
    initMap();
  });

function initMap() {
  document.querySelectorAll("svg path").forEach(path => {

    /* HOVER */
    path.addEventListener("mousemove", e => {
      const id = path.id;
      if (!countryData[id]) return;

      tooltip.style.display = "block";
      tooltip.style.left = e.pageX + 15 + "px";
      tooltip.style.top = e.pageY + 15 + "px";

      tooltip.innerHTML = `
        <strong>${countryData[id].name}</strong>
        ${countryData[id].groups.map(g => g.name).join(", ")}
      `;
    });

    path.addEventListener("mouseleave", () => {
      tooltip.style.display = "none";
    });

    /* CLICK â€“ SADECE SIDEBAR (ZOOM YOK) */
    path.addEventListener("click", () => {
      const id = path.id;
      if (!countryData[id]) return;

      sidebar.classList.add("active");
      sidebar.innerHTML = `
        <h2>${countryData[id].name}</h2>
        ${countryData[id].groups.map(g => `
          <div class="group">
            <a href="${g.url}" target="_blank">${g.name}</a>
          </div>
        `).join("")}
      `;
    });
  });
}
</script>

</body>
</html>
