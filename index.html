<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Militant Atlas</title>

<style>
body {
  margin: 0;
  background: #0b1220;
  color: #fff;
  font-family: Arial, sans-serif;
  display: flex;
  height: 100vh;
}

/* HARİTA ALANI */
#map-container {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* SAĞ PANEL */
#infoPanel {
  width: 300px;
  background: #111a2e;
  padding: 20px;
  border-left: 1px solid #1e2a4a;
}

.hidden {
  display: none;
}

#groupList li {
  cursor: pointer;
  margin: 8px 0;
  color: #6aa7ff;
}

#groupList li:hover {
  text-decoration: underline;
}

/* SVG */
svg {
  width: 90%;
  max-width: 800px;
}

path {
  fill: #f5f5f5;
  stroke: #555;
  cursor: pointer;
}

path:hover {
  fill: #ffd54f;
}

/* HOVER YAZISI */
#hoverLabel {
  fill: white;
  font-size: 14px;
  pointer-events: none;
  text-anchor: middle;
}
</style>
</head>

<body>

<!-- HARİTA -->
<div id="map-container">
<svg id="africa-map" viewBox="0 0 800 800">

  <!-- HOVER TEXT -->
  <text id="hoverLabel" display="none"></text>

  <!-- ÖRNEK ÜLKELER (SVG path’lerini sen artıracaksın) -->

  <path id="ZM"
    data-name="Zambia"
    data-groups="Group A, Group B"
    d="M400 450 L460 460 L450 520 L390 510 Z" />

  <path id="TZ"
    data-name="Tanzania"
    data-groups="Group C"
    d="M460 400 L520 420 L500 480 L450 460 Z" />

  <path id="KE"
    data-name="Kenya"
    data-groups="Group D, Group E"
    d="M500 350 L560 370 L540 430 L480 400 Z" />

</svg>
</div>

<!-- SAĞ BİLGİ PANELİ -->
<div id="infoPanel" class="hidden">
  <h2 id="countryTitle"></h2>
  <ul id="groupList"></ul>
</div>

<!-- JS (EN ALTTA) -->
<script>
const hoverLabel = document.getElementById("hoverLabel");
const paths = document.querySelectorAll("#africa-map path");
const infoPanel = document.getElementById("infoPanel");
const countryTitle = document.getElementById("countryTitle");
const groupList = document.getElementById("groupList");

/* HOVER */
paths.forEach(path => {
  path.addEventListener("mousemove", () => {
    const name = path.dataset.name;
    const groups = path.dataset.groups;

    const box = path.getBBox();
    hoverLabel.setAttribute("x", box.x + box.width / 2);
    hoverLabel.setAttribute("y", box.y + box.height / 2);
    hoverLabel.textContent = `${name} (${groups})`;
    hoverLabel.style.display = "block";
  });

  path.addEventListener("mouseleave", () => {
    hoverLabel.style.display = "none";
  });

  /* CLICK */
  path.addEventListener("click", () => {
    const name = path.dataset.name;
    const groups = path.dataset.groups.split(",");

    countryTitle.textContent = name;
    groupList.innerHTML = "";

    groups.forEach(g => {
      const li = document.createElement("li");
      li.textContent = g.trim();
      li.onclick = () => {
        window.location.href = `group.html?name=${encodeURIComponent(g.trim())}`;
      };
      groupList.appendChild(li);
    });

    infoPanel.classList.remove("hidden");
  });
});
</script>

</body>
</html>
